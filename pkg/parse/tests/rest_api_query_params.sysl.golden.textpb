apps: {
  key: "My :: Server"
  value: {
    name: {
      part: "My"
      part: "Server"
    }
    attrs: {
      key: "patterns"
      value: {
        a: {
          elt: {
            s: "rest"
          }
        }
      }
    }
    endpoints: {
      key: "GET /first"
      value: {
        name: "GET /first"
        attrs: {
          key: "patterns"
          value: {
            a: {
              elt: {
                s: "rest"
              }
            }
          }
        }
        stmt: {
          action: {
            action: "..."
          }
        }
        rest_params: {
          method: GET
          path: "/first"
          query_param: {
            name: "depth"
            type: {
              primitive: INT
              source_context: {
                file: "tests/rest_api_query_params.sysl"
                start: {
                  line: 3
                  col: 13
                }
                end: {
                  line: 3
                  col: 19
                }
              }
            }
          }
          query_param: {
            name: "limit"
            type: {
              primitive: INT
              opt: true
              source_context: {
                file: "tests/rest_api_query_params.sysl"
                start: {
                  line: 3
                  col: 23
                }
                end: {
                  line: 3
                  col: 32
                }
              }
            }
          }
          query_param: {
            name: "offset"
            type: {
              primitive: INT
              opt: true
              source_context: {
                file: "tests/rest_api_query_params.sysl"
                start: {
                  line: 3
                  col: 34
                }
                end: {
                  line: 3
                  col: 44
                }
              }
            }
          }
        }
        source_context: {
          file: "tests/rest_api_query_params.sysl"
          start: {
            line: 3
            col: 8
          }
          end: {
            line: 5
            col: 8
          }
        }
      }
    }
    endpoints: {
      key: "GET /first/{id}"
      value: {
        name: "GET /first/{id}"
        attrs: {
          key: "patterns"
          value: {
            a: {
              elt: {
                s: "rest"
              }
            }
          }
        }
        stmt: {
          action: {
            action: "..."
          }
        }
        rest_params: {
          method: GET
          path: "/first/{id}"
          url_param: {
            name: "id"
            type: {
              type_ref: {
                context: {
                  appname: {
                    part: "My"
                    part: "Server"
                  }
                }
                ref: {
                  path: "App"
                  path: "Token"
                }
              }
              source_context: {
                file: "tests/rest_api_query_params.sysl"
                start: {
                  line: 5
                  col: 9
                }
                end: {
                  line: 5
                  col: 23
                }
              }
            }
          }
        }
        source_context: {
          file: "tests/rest_api_query_params.sysl"
          start: {
            line: 6
            col: 10
          }
          end: {
            line: 8
            col: 10
          }
        }
      }
    }
    endpoints: {
      key: "GET /first/{id}/second"
      value: {
        name: "GET /first/{id}/second"
        attrs: {
          key: "patterns"
          value: {
            a: {
              elt: {
                s: "rest"
              }
              elt: {
                s: "bar"
              }
            }
          }
        }
        param: {
          name: "foo"
          type: {
            primitive: INT
          }
        }
        stmt: {
          action: {
            action: "..."
          }
        }
        rest_params: {
          method: GET
          path: "/first/{id}/second"
          query_param: {
            name: "depth"
            type: {
              primitive: INT
              source_context: {
                file: "tests/rest_api_query_params.sysl"
                start: {
                  line: 9
                  col: 32
                }
                end: {
                  line: 9
                  col: 38
                }
              }
            }
          }
          url_param: {
            name: "id"
            type: {
              type_ref: {
                context: {
                  appname: {
                    part: "My"
                    part: "Server"
                  }
                }
                ref: {
                  path: "App"
                  path: "Token"
                }
              }
              source_context: {
                file: "tests/rest_api_query_params.sysl"
                start: {
                  line: 5
                  col: 9
                }
                end: {
                  line: 5
                  col: 23
                }
              }
            }
          }
        }
        source_context: {
          file: "tests/rest_api_query_params.sysl"
          start: {
            line: 9
            col: 14
          }
          end: {
            line: 11
          }
        }
      }
    }
    source_context: {
      file: "tests/rest_api_query_params.sysl"
      start: {
        line: 1
        col: 1
      }
      end: {
        line: 1
        col: 19
      }
    }
  }
}
