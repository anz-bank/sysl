##########################################
##                                      ##
##  AUTOGENERATED CODE -- DO NOT EDIT!  ##
##                                      ##
##########################################

TestApp "Extensions":
    @app-anno = "this is app level annotation"
    @description = "this is a test for OpenAPI3 extensions"
    @package = "com.example.package"
    @x-description = "this should be retained too"
    @x-package = "second package data"
    
    /path/{param1 <: string}:
        GET(param3 <: string [~header, name="param3", param3-anno="this is anno for param3"], param4 <: string [~cookie, name="param4", param3-anno="this is anno for param4"]) ?param2=string?:
            @op-anno = "this is operation level annotation"
            return 200 <: string [get-200-resp="this is anno for get 200 response", mediatype="plain/text"]
            return 300 <: string [get-300-resp="this anno should replace get 300 response", mediatype="plain/text"]
            return 400 <: get_path_param1__400_resp_type [get-400-resp="this is anno for get 400 response"]
        POST(post_path_param1__req_body <: string [~body, mediatype="application/json", req-body-anno="this is anno for request body"]):
            @path-anno = "this should replace path level annotation"
            return 200 <: string [examples="simple example", mediatype="application/json"]
    
    !type complex:
        @complex-anno = "this is annotation for complex type"
        a <: string?:
            @complex-a-anno = "this is annotation for complex.a type"
            @json_tag = "a"
        b <: complex_b?:
            @json_tag = "b"
    
    !alias complex-extensions:
        @array-ext = ["this is array extension index 0", "this is array extension index 1", "this is array extension index 2"]
        @empty = ""
        @number-ext = "1"
        @object-ext = [["a", "this is an object extension"], ["b", "this is just another field to object extension"], ["c", "2"]]
        string
    
    !type complex_b:
        @complex-a-b-anno = "this is annotation for complex.a.b type"
        c <: complex_b_c?:
            @json_tag = "c"
    
    !alias complex_b_c [~unmapped_openapi]:
        @complex-a-b-c-anno = "this is annotation for complex.a.b.c type"
        string
    
    !type get_path_param1__400_resp_type [~GeneratedOpenAPIResponse]:
        body <: get_path_param1__400_resp_type_body [~body]:
            @json_tag = "body"
    
    !union get_path_param1__400_resp_type_body:
        get_path_param1__400_resp_type_body_application_json
        get_path_param1__400_resp_type_body_plain_text
    
    !alias get_path_param1__400_resp_type_body_application_json:
        @get-400-resp-json = "this anno is for json 400"
        @mediatype = "application/json"
        @x-mediatype = "additional mediatype data"
        string
    
    !alias get_path_param1__400_resp_type_body_plain_text:
        @get-400-resp = "this anno is for text 400"
        @mediatype = "plain/text"
        string
    
    !alias simple:
        @simple-anno = "this is annotation for a simple type"
        string
    
    !alias unmappable-with-ext [~unmapped_openapi]:
        @openapi_type = "any"
        @x-openapi_type = "this should be retained"
        @x-patterns = "this clashes with sysl tag so x-patterns is still x-patterns"
        string
    
    !alias with-format-ext:
        @openapi_format = "uuid"
        @x-openapi_format = "this should be retained"
        string
