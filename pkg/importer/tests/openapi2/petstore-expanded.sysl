##########################################
##                                      ##
##  AUTOGENERATED CODE -- DO NOT EDIT!  ##
##                                      ##
##########################################

TestApp "Swagger Petstore" [package="com.example.package"]:
    @version = "1.0.0"
    @termsOfService = "http://swagger.io/terms/"
    @basePath = "/api"
    @license = "Apache 2.0"
    @host = "petstore.swagger.io"
    @description =:
        | A sample API that uses a petstore as an example to demonstrate
        | features in the swagger-2.0 specification

    /pets:
        GET ?tags={tags}?&limit=int32?:
            | Returns all pets from the system that the user has access to
            return 200 <: _pets_200
            return ok <: _pets_default

    /pets/{id<:int64}:
        GET:
            | Returns a user based on a single ID, if the user does not have
            | access to the pet
            return 200 <: _pets__id__200
            return ok <: _pets__id__default

    /pets:
        POST (NewPetRequest <: NewPet [mediatype="application/json", ~body]):
            | Creates a new pet in the store.  Duplicates are allowed
            return 200 <: Pet [mediatype="application/json"]
            return error <: ErrorModel [mediatype="application/json"]

    /pets/{id<:int64}:
        DELETE:
            | deletes a single pet based on the ID supplied
            return 204
            return error <: ErrorModel [mediatype="application/json"]

    #---------------------------------------------------------------------------
    # definitions

    !type ErrorModel:
        code <: int32:
            @json_tag = "code"
        message <: string:
            @json_tag = "message"

    !type NewPet:
        name <: string:
            @json_tag = "name"
        tag <: string?:
            @json_tag = "tag"

    !type Pet:
        id <: int64:
            @json_tag = "id"
        name <: string:
            @json_tag = "name"
        tag <: string?:
            @json_tag = "tag"

    !type _pets_200:
        PetApplicationJson <: sequence of Pet [mediatype="application/json"]:
            @json_tag = "PetApplicationJson"
        PetApplicationXml <: sequence of Pet [mediatype="application/xml"]:
            @json_tag = "PetApplicationXml"
        PetTextHtml <: sequence of Pet [mediatype="text/html"]:
            @json_tag = "PetTextHtml"
        PetTextXml <: sequence of Pet [mediatype="text/xml"]:
            @json_tag = "PetTextXml"

    !type _pets__id__200:
        PetApplicationJson <: Pet [mediatype="application/json"]:
            @json_tag = "PetApplicationJson"
        PetApplicationXml <: Pet [mediatype="application/xml"]:
            @json_tag = "PetApplicationXml"
        PetTextHtml <: Pet [mediatype="text/html"]:
            @json_tag = "PetTextHtml"
        PetTextXml <: Pet [mediatype="text/xml"]:
            @json_tag = "PetTextXml"

    !type _pets__id__default:
        ErrorModelApplicationJson <: ErrorModel [mediatype="application/json"]:
            @json_tag = "ErrorModelApplicationJson"
        ErrorModelApplicationXml <: ErrorModel [mediatype="application/xml"]:
            @json_tag = "ErrorModelApplicationXml"
        ErrorModelTextHtml <: ErrorModel [mediatype="text/html"]:
            @json_tag = "ErrorModelTextHtml"
        ErrorModelTextXml <: ErrorModel [mediatype="text/xml"]:
            @json_tag = "ErrorModelTextXml"

    !type _pets_default:
        ErrorModelApplicationJson <: ErrorModel [mediatype="application/json"]:
            @json_tag = "ErrorModelApplicationJson"
        ErrorModelApplicationXml <: ErrorModel [mediatype="application/xml"]:
            @json_tag = "ErrorModelApplicationXml"
        ErrorModelTextHtml <: ErrorModel [mediatype="text/html"]:
            @json_tag = "ErrorModelTextHtml"
        ErrorModelTextXml <: ErrorModel [mediatype="text/xml"]:
            @json_tag = "ErrorModelTextXml"

    !alias tags:
        sequence of string
