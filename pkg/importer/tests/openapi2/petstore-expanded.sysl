##########################################
##                                      ##
##  AUTOGENERATED CODE -- DO NOT EDIT!  ##
##                                      ##
##########################################

TestApp "Swagger Petstore" [package="com.example.package"]:
    @version = "1.0.0"
    @termsOfService = "http://swagger.io/terms/"
    @basePath = "/api"
    @license = "Apache 2.0"
    @host = "petstore.swagger.io"
    @description =:
        | A sample API that uses a petstore as an example to demonstrate
        | features in the swagger-2.0 specification

    /pets:
        GET ?tags={tags}?&limit=int32?:
            | Returns all pets from the system that the user has access to
            return 200 <: sequence of Pet [mediatype="application/json"]
            return error <: ErrorModel [mediatype="application/json"]

    /pets/{id<:int64}:
        GET:
            | Returns a user based on a single ID, if the user does not have
            | access to the pet
            return 200 <: Pet [mediatype="application/json"]
            return error <: ErrorModel [mediatype="application/json"]

    /pets:
        POST (NewPetRequest <: NewPet [mediatype="application/json", ~body]):
            | Creates a new pet in the store.  Duplicates are allowed
            return 200 <: Pet [mediatype="application/json"]
            return error <: ErrorModel [mediatype="application/json"]

    /pets/{id<:int64}:
        DELETE:
            | deletes a single pet based on the ID supplied
            return 204
            return error <: ErrorModel [mediatype="application/json"]

    #---------------------------------------------------------------------------
    # definitions

    !type ErrorModel:
        code <: int32:
            @json_tag = "code"
        message <: string:
            @json_tag = "message"

    !type NewPet:
        name <: string:
            @json_tag = "name"
        tag <: string?:
            @json_tag = "tag"

    !type Pet:
        id <: int64:
            @json_tag = "id"
        name <: string:
            @json_tag = "name"
        tag <: string?:
            @json_tag = "tag"

    !alias tags:
        sequence of string
