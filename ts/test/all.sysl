# This sysl file is a subset of https://github.com/anzx/sysl/blob/master/pkg/arrai/all.sysl, which meant to show every sysl feature.
# Currently the Typescript renderer does not support the following:
#   - Aliases
#   _ Endpoints
#   - Statements
#   - Inplace type definitions
#   - Pubsubs
#   - Mixins
#   - Inline annotations
# Furthermore comments are not retained during a `sysl pb` command, so they cannot be returned when converting back from json to Sysl.
# Header comments (such as this one) are extracted before `sysl pb` is called, and then added back at the end, allowing them to be retained

App [~abstract]:
    ...

AppWithAnnotation:
    @annotation = "annotation"
    @annotation1 = "you can do string annotation like this"
    @annotation2 = ["or", "in", "an", "array"]
    @annotation3 =:
        | you can also do
        | multiline annotations
        | like this
    ...

App :: with :: subpackages:
    ...

Types:
    !type Type:
        @annotation = "annotation"
        nativeTypeField <: string
        reference <: RestEndpoint.Type
        optional <: string?
        set <: set of string
        sequence <: sequence of string
        aliasSequence <: AliasSequence
        with_anno <: string:
            @annotation = "this is an annotation"

    !table Table [~tag]:
        primaryKey <: string [~pk]
        nativeTypeField <: string
        reference <: RestEndpoint.Type
        optional <: string?
        set <: set of string
        sequence <: sequence of string
        with_anno <: string:
            @annotation = "this is an annotation"
        decimal_with_precision <: decimal(5.8)
        string_max_constraint <: string(5)
        string_range_constraint <: string(5..10)

    !enum Enum [~tag]:
        ENUM_1: 1
        ENUM_2: 2
        ENUM_3: 3

    !union Union:
        int
        string
